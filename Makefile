#-------------------------------------------------------------------------------
# SETUP
#-------------------------------------------------------------------------------

LOCAL := node_modules/.bin
ISTANBUL := node_modules/istanbul/lib/cli.js

.PHONY: \
  cover \
  coverage \
  deps \
  serve \
  test

#-------------------------------------------------------------------------------
# DEFAULT
#-------------------------------------------------------------------------------
default:
	@echo "tbd"

#-------------------------------------------------------------------------------
# TESTING
#-------------------------------------------------------------------------------

test:
	@$(LOCAL)/mocha

cover:
	@$(ISTANBUL) cover node_modules/mocha/bin/_mocha

coverage:
	@cat coverage/lcov.info | $(LOCAL)/lcov-summary

#-------------------------------------------------------------------------------
# DEVELOPMENT
#-------------------------------------------------------------------------------

deps:
	npm install

serve:
	@node bin/dev-server.js

# vim: noet ts=4 :
